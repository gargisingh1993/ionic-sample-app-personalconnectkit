{"modules":[{"id":"3b83a9aa-1e76-48b3-845a-5d48a5b47c0f","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1986,"y":897}}},{"id":"1490c41a-ac65-4b3b-8ae4-6a09c05ab668","type":"Transfer","branches":[{"condition":"Error","transition":"9cae596f-3bf0-4d89-a242-7b858611f9e8"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/bed94323-81a6-4498-9172-6c963ebbd0ec","resourceName":"General Workflow"}],"metadata":{"position":{"x":2100,"y":731},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/bed94323-81a6-4498-9172-6c963ebbd0ec","text":"General Workflow"}},"target":"Flow"},{"id":"cbfcb047-c3db-43cd-adae-9a34d824dc72","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"True","transition":"da35a59e-95a9-4086-b3e9-8626860d69ad"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"False","transition":"9cae596f-3bf0-4d89-a242-7b858611f9e8"},{"condition":"NoMatch","transition":"9cae596f-3bf0-4d89-a242-7b858611f9e8"}],"parameters":[{"name":"Attribute","value":"Successful"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":1513,"y":48},"conditionMetadata":[{"id":"e7498f4d-7e2f-49e1-8cc6-3e2184c6be38","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"True"},{"id":"24d3a40d-bd7f-442a-91ab-4967d3c27ca5","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"False"}]}},{"id":"dc73d547-111e-4beb-addc-a7f44467d159","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"cbfcb047-c3db-43cd-adae-9a34d824dc72"},{"condition":"Error","transition":"9cae596f-3bf0-4d89-a242-7b858611f9e8"}],"parameters":[{"name":"FunctionArn","value":"ContactSaveLambda"},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"ContactName","value":"ContactName","namespace":"User Defined"},{"name":"Parameter","key":"Company","value":"Company","namespace":"User Defined"},{"name":"Parameter","key":"ContactId","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":1273,"y":21},"dynamicMetadata":{"ContactName":true,"Company":true,"ContactId":true}},"target":"Lambda"},{"id":"ffaa532b-2062-4d07-9299-4b02d30abb35","type":"PlayPrompt","branches":[{"condition":"Success","transition":"1490c41a-ac65-4b3b-8ae4-6a09c05ab668"}],"parameters":[{"name":"Text","value":"Taking you to the main menu","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2032,"y":539},"useDynamic":false}},{"id":"da35a59e-95a9-4086-b3e9-8626860d69ad","type":"SetAttributes","branches":[{"condition":"Success","transition":"f5088936-edcc-410b-b2e3-0bff5f1cd720"},{"condition":"Error","transition":"9cae596f-3bf0-4d89-a242-7b858611f9e8"}],"parameters":[{"name":"Attribute","value":"known","key":"Contact","namespace":null}],"metadata":{"position":{"x":1760,"y":179}}},{"id":"f5088936-edcc-410b-b2e3-0bff5f1cd720","type":"PlayPrompt","branches":[{"condition":"Success","transition":"ffaa532b-2062-4d07-9299-4b02d30abb35"}],"parameters":[{"name":"Text","value":"Thank you","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":2012,"y":82},"useDynamic":false}},{"id":"1e7fa1e2-2a1a-4630-96b0-59fd3a1ff0c9","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Yes","transition":"dc73d547-111e-4beb-addc-a7f44467d159"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"No","transition":"ea4ed225-5d48-452a-af23-1306903b825d"},{"condition":"NoMatch","transition":"ffaa532b-2062-4d07-9299-4b02d30abb35"}],"parameters":[{"name":"Attribute","value":"SaveMe"},{"name":"Namespace","value":"Lex.Slots"}],"metadata":{"position":{"x":1047,"y":22},"conditionMetadata":[{"id":"f9724071-62b4-4d25-b4c1-faf09a865194","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"Yes"},{"id":"9fa0a666-1f0d-4dfe-b8b6-087cd21f4bf9","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"No"}]}},{"id":"da57b610-27f9-4acb-a380-7f7fc38a6dd5","type":"SetAttributes","branches":[{"condition":"Success","transition":"1e7fa1e2-2a1a-4630-96b0-59fd3a1ff0c9"},{"condition":"Error","transition":"9cae596f-3bf0-4d89-a242-7b858611f9e8"}],"parameters":[{"name":"Attribute","value":"ContactName","key":"ContactName","namespace":"Lex.Slots"},{"name":"Attribute","value":"Company","key":"Company","namespace":"Lex.Slots"}],"metadata":{"position":{"x":507,"y":157}}},{"id":"ea4ed225-5d48-452a-af23-1306903b825d","type":"SetAttributes","branches":[{"condition":"Success","transition":"ffaa532b-2062-4d07-9299-4b02d30abb35"},{"condition":"Error","transition":"9cae596f-3bf0-4d89-a242-7b858611f9e8"}],"parameters":[{"name":"Attribute","value":"unknown","key":"ContactStatus","namespace":null}],"metadata":{"position":{"x":1758,"y":377}}},{"id":"9cae596f-3bf0-4d89-a242-7b858611f9e8","type":"PlayPrompt","branches":[{"condition":"Success","transition":"3b83a9aa-1e76-48b3-845a-5d48a5b47c0f"}],"parameters":[{"name":"Text","value":"Something went wrong.  Sorry please call again.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1466,"y":669},"useDynamic":false}},{"id":"6ade4dcb-a511-45d0-974a-5019ec78c8da","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"SignUp","transition":"da57b610-27f9-4acb-a380-7f7fc38a6dd5"},{"condition":"NoMatch","transition":"3f433311-3f6c-43c1-9bfb-07c32912b424"},{"condition":"Error","transition":"3f433311-3f6c-43c1-9bfb-07c32912b424"}],"parameters":[{"name":"Text","value":"May I ask who's calling? Please start by saying \"This Is\"","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"ContactBot"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":254,"y":226},"conditionMetadata":[{"id":"bdcfeada-df65-44b0-9bbb-ca8f92bcd37d","value":"SignUp"}],"useDynamic":false,"dynamicMetadata":{}},"target":"Lex"},{"id":"3f433311-3f6c-43c1-9bfb-07c32912b424","type":"SetAttributes","branches":[{"condition":"Success","transition":"ea4ed225-5d48-452a-af23-1306903b825d"},{"condition":"Error","transition":"9cae596f-3bf0-4d89-a242-7b858611f9e8"}],"parameters":[{"name":"Attribute","value":"unknown","key":"ContactName","namespace":null},{"name":"Attribute","value":"unknown","key":"Company","namespace":null}],"metadata":{"position":{"x":762,"y":469}}}],"version":"1","type":"contactFlow","start":"6ade4dcb-a511-45d0-974a-5019ec78c8da","metadata":{"entryPointPosition":{"x":20,"y":20},"snapToGrid":false,"name":"Register","description":null,"type":"contactFlow","status":"published","hash":"d1ecc002e423e975913159afc507a3c7ac5938c39314f14f2bf8688e7a424f74"}}