{"modules":[{"id":"96f62f74-1905-40cd-acca-714c0782717a","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1852,"y":833}}},{"id":"3268c082-df84-459b-bdfe-e1acb248a207","type":"SetLoggingBehavior","branches":[{"condition":"Success","transition":"4d36a741-bc87-4035-b3fa-9c8390e687ac"}],"parameters":[{"name":"LoggingBehavior","value":"Enable"}],"metadata":{"position":{"x":66,"y":380}}},{"id":"4d36a741-bc87-4035-b3fa-9c8390e687ac","type":"PlayPrompt","branches":[{"condition":"Success","transition":"7eefafd6-402f-4759-967c-b017ef5f3969"}],"parameters":[{"name":"Text","value":"Hello.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":225,"y":65},"useDynamic":false}},{"id":"7eefafd6-402f-4759-967c-b017ef5f3969","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"cef1c364-34ef-4e00-ba6e-4c54475c10e6"},{"condition":"Error","transition":"431f29e2-cca7-44e4-a449-90a38c2d327b"}],"parameters":[{"name":"FunctionArn","value":"ContactLookUpLambda"},{"name":"TimeLimit","value":"4"},{"name":"Parameter","key":"CustomerNumber","value":"Customer Number","namespace":"System"}],"metadata":{"position":{"x":471,"y":114},"dynamicMetadata":{"CustomerNumber":true}},"target":"Lambda"},{"id":"b1707ec1-a4bf-462e-befb-38e0b84ff6c5","type":"Transfer","branches":[{"condition":"Error","transition":"431f29e2-cca7-44e4-a449-90a38c2d327b"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/a397d671-f876-48bd-9c92-e0fbe64bddd5","resourceName":"Connect Directly"}],"metadata":{"position":{"x":1191,"y":59},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/a397d671-f876-48bd-9c92-e0fbe64bddd5","text":"Connect Directly"}},"target":"Flow"},{"id":"cef1c364-34ef-4e00-ba6e-4c54475c10e6","type":"CheckAttribute","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"premier","transition":"b1707ec1-a4bf-462e-befb-38e0b84ff6c5"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"screened","transition":"e8708a02-da96-4bc6-bbd8-e19f9196ad76"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"known","transition":"e8708a02-da96-4bc6-bbd8-e19f9196ad76"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"unknown","transition":"5e408bde-033e-49c0-a58a-6a1df35609da"},{"condition":"NoMatch","transition":"5e408bde-033e-49c0-a58a-6a1df35609da"}],"parameters":[{"name":"Attribute","value":"ContactStatus"},{"name":"Namespace","value":"External"}],"metadata":{"position":{"x":804,"y":61},"conditionMetadata":[{"id":"bdb81a81-14b2-41bf-8f54-d852b6602e3d","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"premier"},{"id":"370e7fd8-f4e7-418e-9600-51c90059fdf9","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"screened"},{"id":"a5eb1f9e-4973-4cb6-be1e-e5aa777eabfc","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"known"},{"id":"2f6c7335-8b0e-4d96-b9bd-a2cde85211ee","operator":{"name":"Equals","value":"Equals","shortDisplay":"="},"value":"unknown"}]}},{"id":"5e408bde-033e-49c0-a58a-6a1df35609da","type":"Transfer","branches":[{"condition":"Error","transition":"431f29e2-cca7-44e4-a449-90a38c2d327b"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/5766850f-3f66-4874-a8af-72d77ff1165b","resourceName":"Register"}],"metadata":{"position":{"x":866,"y":439},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/5766850f-3f66-4874-a8af-72d77ff1165b","text":"Register"}},"target":"Flow"},{"id":"03e62b64-f5eb-4f4f-918a-a07c8ca59701","type":"Transfer","branches":[{"condition":"Error","transition":"431f29e2-cca7-44e4-a449-90a38c2d327b"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/bed94323-81a6-4498-9172-6c963ebbd0ec","resourceName":"General Workflow"}],"metadata":{"position":{"x":1334,"y":676},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/bed94323-81a6-4498-9172-6c963ebbd0ec","text":"General Workflow"}},"target":"Flow"},{"id":"431f29e2-cca7-44e4-a449-90a38c2d327b","type":"PlayPrompt","branches":[{"condition":"Success","transition":"96f62f74-1905-40cd-acca-714c0782717a"}],"parameters":[{"name":"Text","value":"Sorry, something went wrong.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1637,"y":836},"useDynamic":false}},{"id":"e8708a02-da96-4bc6-bbd8-e19f9196ad76","type":"PlayPrompt","branches":[{"condition":"Success","transition":"e9a9e062-b518-4d0d-8a38-2ef03f87cfb8"}],"parameters":[{"name":"Text","value":"Welcome back","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":1112,"y":233},"useDynamic":false}},{"id":"e9a9e062-b518-4d0d-8a38-2ef03f87cfb8","type":"SetAttributes","branches":[{"condition":"Success","transition":"03e62b64-f5eb-4f4f-918a-a07c8ca59701"},{"condition":"Error","transition":"431f29e2-cca7-44e4-a449-90a38c2d327b"}],"parameters":[{"name":"Attribute","value":"ContactName","key":"ContactName","namespace":"External"},{"name":"Attribute","value":"Company","key":"Company","namespace":"External"},{"name":"Attribute","value":"ContactStatus","key":"ContactStatus","namespace":"External"}],"metadata":{"position":{"x":1208,"y":426}}}],"version":"1","type":"contactFlow","start":"3268c082-df84-459b-bdfe-e1acb248a207","metadata":{"entryPointPosition":{"x":69,"y":26},"snapToGrid":false,"name":"Data Dip","description":"Invokes a lambda function to determine information about the user.","type":"contactFlow","status":"published","hash":"f9fa16039cde07e3319ba358dbe8b56b3f3bcf2fc5dafe7da7797d4cb82d0589"}}