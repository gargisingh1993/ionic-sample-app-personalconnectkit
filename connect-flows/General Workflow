{"modules":[{"id":"6a0df8f5-cb3c-480a-9314-342ff5549650","type":"PlayPrompt","branches":[{"condition":"Success","transition":"4683355c-d129-4e07-8ab5-2b67aaddf9f6"}],"parameters":[{"name":"Text","value":"I wasn't able to understand or something went wrong, but I've recorded your call.","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":625,"y":410},"useDynamic":false}},{"id":"3395b67e-f8cb-4ca3-a706-8fc00759ee60","type":"GetUserInput","branches":[{"condition":"Evaluate","conditionType":"Equals","conditionValue":"CallBack","transition":"4683355c-d129-4e07-8ab5-2b67aaddf9f6"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"LeaveMessage","transition":"762ee674-5fc0-426a-9b4f-cc4cedec9272"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"WaitForResponse","transition":"1ffb4174-db33-4b92-9ae6-79a695468b9c"},{"condition":"Evaluate","conditionType":"Equals","conditionValue":"Emergency","transition":"4265b126-1c06-4fe6-b758-f01e7b0f7f21"},{"condition":"NoMatch","transition":"6a0df8f5-cb3c-480a-9314-342ff5549650"},{"condition":"Error","transition":"6a0df8f5-cb3c-480a-9314-342ff5549650"}],"parameters":[{"name":"Text","value":"How can I help?  You can say things like leave a callback number, leave a message, it's an emergency, or I'll wait on hold","namespace":null},{"name":"TextToSpeechType","value":"text"},{"name":"BotName","value":"ContactBot"},{"name":"BotAlias","value":"$LATEST"},{"name":"BotRegion","value":"us-east-1"}],"metadata":{"position":{"x":474,"y":25},"conditionMetadata":[{"id":"9450e99a-7cca-43bd-81db-5a5fbc87bd95","value":"CallBack"},{"id":"d40e1d93-fe24-4068-aa0a-76996e6c5f22","value":"LeaveMessage"},{"id":"b5d9d71e-169d-4bb5-86cb-984fc46e73cd","value":"WaitForResponse"},{"id":"b2b2c0b8-0957-4320-9667-eabf422848f4","value":"Emergency"}],"useDynamic":false,"dynamicMetadata":{}},"target":"Lex"},{"id":"8d13df97-6500-4692-85f8-eab5e7dd199f","type":"Disconnect","branches":[],"parameters":[],"metadata":{"position":{"x":1146,"y":625}}},{"id":"e012709f-946a-42c8-ac6f-d0c742225fd5","type":"InvokeExternalResource","branches":[{"condition":"Success","transition":"3395b67e-f8cb-4ca3-a706-8fc00759ee60"},{"condition":"Error","transition":"9c00d3cc-5e5c-42ed-98a0-526d7f00a515"}],"parameters":[{"name":"FunctionArn","value":"ContactAlertLambda"},{"name":"TimeLimit","value":"3"},{"name":"Parameter","key":"ContactId","value":"ContactId","namespace":"System"}],"metadata":{"position":{"x":202,"y":34},"dynamicMetadata":{"ContactId":true}},"target":"Lambda"},{"id":"4265b126-1c06-4fe6-b758-f01e7b0f7f21","type":"Transfer","branches":[{"condition":"Error","transition":"9c00d3cc-5e5c-42ed-98a0-526d7f00a515"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/6511ac1b-824e-46f5-9b2d-e809fbbfc6b0","resourceName":"Wait for Response Flow"}],"metadata":{"position":{"x":892,"y":435},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/6511ac1b-824e-46f5-9b2d-e809fbbfc6b0","text":"Wait for Response Flow"}},"target":"Flow"},{"id":"1ffb4174-db33-4b92-9ae6-79a695468b9c","type":"Transfer","branches":[{"condition":"Error","transition":"9c00d3cc-5e5c-42ed-98a0-526d7f00a515"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/02142296-57e7-4974-ae6a-5b41603e5a2c","resourceName":"Check Availability"}],"metadata":{"position":{"x":894,"y":290},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/02142296-57e7-4974-ae6a-5b41603e5a2c","text":"Check Availability"}},"target":"Flow"},{"id":"4683355c-d129-4e07-8ab5-2b67aaddf9f6","type":"Transfer","branches":[{"condition":"Error","transition":"9c00d3cc-5e5c-42ed-98a0-526d7f00a515"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/2ffb187c-88a0-4c7e-86fd-168038e1f8f5","resourceName":"Request Callback"}],"metadata":{"position":{"x":892,"y":1},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/2ffb187c-88a0-4c7e-86fd-168038e1f8f5","text":"Request Callback"}},"target":"Flow"},{"id":"762ee674-5fc0-426a-9b4f-cc4cedec9272","type":"Transfer","branches":[{"condition":"Error","transition":"9c00d3cc-5e5c-42ed-98a0-526d7f00a515"}],"parameters":[{"name":"ContactFlowId","value":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/1b0b855e-984d-4beb-addb-e4ee59c6c540","resourceName":"Record a message"}],"metadata":{"position":{"x":894,"y":144},"useDynamic":false,"ContactFlow":{"id":"arn:aws:connect:us-east-1:<accountnumber>/instance/<instanceid>/contact-flow/1b0b855e-984d-4beb-addb-e4ee59c6c540","text":"Record a message"}},"target":"Flow"},{"id":"9c00d3cc-5e5c-42ed-98a0-526d7f00a515","type":"PlayPrompt","branches":[{"condition":"Success","transition":"8d13df97-6500-4692-85f8-eab5e7dd199f"}],"parameters":[{"name":"Text","value":"Something went wrong","namespace":null},{"name":"TextToSpeechType","value":"text"}],"metadata":{"position":{"x":710,"y":639},"useDynamic":false}}],"version":"1","type":"contactFlow","start":"e012709f-946a-42c8-ac6f-d0c742225fd5","metadata":{"entryPointPosition":{"x":20,"y":20},"snapToGrid":false,"name":"General Workflow","description":null,"type":"contactFlow","status":"published","hash":"286413582409c15f5824df274f7f1f777755d09adcbf5d1eb428d7389fa230f7"}}